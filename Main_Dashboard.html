<!DOCTYPE html>
<html lang="th">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QJBKDWWT2P"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-QJBKDWWT2P');</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Main Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body { background-color: #F5F5F7; font-family: 'Prompt', sans-serif; -webkit-tap-highlight-color: transparent; }
        .bento-card { background: white; border-radius: 1.5rem; overflow: hidden; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 1px solid rgba(0,0,0,0.05); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05); position: relative; }
        .bento-card:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); border-color: #3b82f6; z-index: 10; }
        .bento-card::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(90deg, #0071e3, #42a5f5, #00C7BE); transform: scaleX(0); transform-origin: left; transition: transform 0.3s ease-out; }
        .bento-card:hover::after { transform: scaleX(1); }
        .hero-text { background: linear-gradient(135deg, #0071e3, #42a5f5); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .m-graphic { background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899); }
        
        /* Reveal Content Style */
        .reveal-content { max-height: 0; opacity: 0; transition: all 0.4s ease; transform: translateY(10px); overflow: hidden; }
        .bento-card:hover .reveal-content { max-height: 300px; opacity: 1; transform: translateY(0); margin-top: 0.5rem; }
        
        /* Mobile Optimization: Show content always on small screens if needed, but here we keep hover behavior or tap to expand */
        @media (max-width: 768px) {
            .reveal-content { max-height: none; opacity: 1; transform: translateY(0); margin-top: 0.5rem; display: block; }
        }

        .bento-card:hover .main-icon { transform: scale(0.9) translateY(-5px); color: #0071e3; }
        .main-icon { transition: all 0.3s ease; }
        .nav-icon { transition: transform 0.3s; }
        .active-nav .nav-icon { transform: translateY(-5px) scale(1.1); color: #0071e3; }
        .active-nav span { color: #0071e3; font-weight: 700; }
        
        /* Loading Dots */
        .loading-dots:after { content: ' .'; animation: dots 1s steps(5, end) infinite; }
        @keyframes dots { 0%, 20% { color: rgba(0,0,0,0);} 40% { color: #333;} 60% { text-shadow: .25em 0 0 #333;} 80%, 100% { text-shadow: .25em 0 0 #333;}}
    </style>
</head>
<body class="pb-28 pt-6 px-4 md:px-8 max-w-7xl mx-auto">

    <!-- Header -->
    <header class="flex flex-col md:flex-row justify-between items-end gap-4 mb-8 animate-fade-in-up">
        <div>
            <h1 class="text-2xl md:text-4xl font-bold hero-text">Education Data Management</h1>
            <p class="text-gray-500 text-sm md:text-base mt-1">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏• ‡πë ‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á | <span class="text-blue-600">aekarwuts@gmail.com</span></p>
            
            <!-- AI Quote Container -->
            <div id="ai-quote-container" class="mt-3 flex items-center gap-2 text-xs md:text-sm text-gray-500 bg-white px-3 py-1.5 rounded-full border border-gray-100 shadow-sm inline-flex cursor-pointer hover:bg-blue-50 transition" onclick="analyzeStats()">
                <i id="quote-icon" class="fa-solid fa-wand-magic-sparkles text-yellow-400"></i>
                <span id="ai-quote-text" class="italic">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à...</span>
            </div>
        </div>
        <div class="flex items-center gap-3">
             <img src="logo-1-1-1.png" alt="Logo" class="h-10 w-auto opacity-90" onerror="this.style.display='none'">
             <div class="text-right hidden md:block bg-white px-3 py-1 rounded-xl shadow-sm border border-gray-100">
                <div class="text-[10px] text-gray-400 uppercase font-bold tracking-wider">TODAY</div>
                <div class="font-bold text-gray-700 leading-none" id="current-date">--/--/----</div>
            </div>
        </div>
    </header>

    <!-- Stats for AI Analysis -->
    <div class="hidden" id="stats-data">
        Students: 145, PA: Approved, Media: 42, Eval: 4.9/5
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 auto-rows-fr">
        
        <!-- 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô -> Profile -->
        <a href="TeacherPortfolio_BentoGrid.html" class="bento-card col-span-1 md:col-span-2 row-span-2 p-8 flex flex-col justify-center items-center text-center group cursor-pointer">
            <div class="w-24 h-24 rounded-full border-4 border-white shadow-xl m-graphic flex items-center justify-center mb-4 group-hover:scale-105 transition-transform duration-500">
                <span class="font-heading font-bold text-5xl text-white drop-shadow-md">M</span>
            </div>
            <h2 class="text-2xl font-bold text-gray-800 group-hover:text-blue-600 transition">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h2>
            <p class="text-sm text-gray-500 mt-2">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ & ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô</p>
        </a>

        <!-- 2. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô (‡∏°‡∏µ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢ & ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô) -->
        <div class="bento-card col-span-1 p-6 flex flex-col justify-center items-center text-center group">
            <div class="main-icon w-14 h-14 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center text-2xl mb-2"><i class="fa-solid fa-chalkboard-user"></i></div>
            <h3 class="font-bold text-gray-800">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</h3>
            
            <!-- Sub Menu -->
            <div class="reveal-content w-full text-left space-y-2 mt-2 bg-blue-50/50 p-2 rounded-xl">
                <div onclick="checkPasscode('Classroom Manager.html')" class="flex items-center gap-2 p-2 bg-white rounded-lg shadow-sm hover:bg-blue-50 transition cursor-pointer">
                    <i class="fa-solid fa-users text-blue-500 text-xs"></i> <span class="text-xs font-bold text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ß‡∏±‡∏î‡∏ú‡∏•</span> <i class="fa-solid fa-lock text-[10px] text-gray-400 ml-auto"></i>
                </div>
                <a href="LessonPlan_Manager.html" class="flex items-center gap-2 p-2 bg-white rounded-lg shadow-sm hover:bg-blue-50 transition cursor-pointer">
                    <i class="fa-solid fa-book-open text-blue-500 text-xs"></i> <span class="text-xs font-bold text-gray-600">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</span>
                </a>
                <div onclick="checkPasscode('Student_Development.html')" class="flex items-center gap-2 p-2 bg-white rounded-lg shadow-sm hover:bg-blue-50 transition cursor-pointer">
                    <i class="fa-solid fa-file-invoice text-blue-500 text-xs"></i> <span class="text-xs font-bold text-gray-600">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</span> <i class="fa-solid fa-lock text-[10px] text-gray-400 ml-auto"></i>
                </div>
            </div>
        </div>

        <!-- 3. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ -> Project -->
        <a href="Project Management.html" class="bento-card col-span-1 p-6 flex flex-col justify-center items-center text-center group cursor-pointer">
            <div class="main-icon w-14 h-14 rounded-2xl bg-orange-50 text-orange-600 flex items-center justify-center text-2xl mb-2"><i class="fa-solid fa-folder-open"></i></div>
            <h3 class="font-heading font-bold text-gray-800 text-sm">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</h3>
            <div class="reveal-content w-full text-xs text-gray-500 bg-gray-50 p-2 rounded">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ & ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</div>
        </a>

        <!-- 4. ‡∏ß‡∏±‡∏î‡∏ú‡∏• -> Assessment (Locked) -->
        <div onclick="checkPasscode('Assessment_Center.html')" class="bento-card col-span-1 p-6 flex flex-col justify-center items-center text-center group cursor-pointer">
            <div class="main-icon w-14 h-14 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center text-2xl mb-2"><i class="fa-solid fa-chart-pie"></i></div>
            <h3 class="font-heading font-bold text-gray-800 text-sm">‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•</h3>
            <i class="fa-solid fa-lock text-xs text-gray-400 mt-2"></i>
            <div class="reveal-content w-full text-xs text-gray-500 bg-gray-50 p-2 rounded mt-2">‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö & ‡∏ï‡∏±‡∏î‡πÄ‡∏Å‡∏£‡∏î</div>
        </div>

        <!-- 5. ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -> Development (Locked) -->
        <div onclick="checkPasscode('Development.html')" class="bento-card col-span-1 p-6 flex flex-col justify-center items-center text-center group cursor-pointer">
            <div class="main-icon w-14 h-14 rounded-2xl bg-pink-50 text-pink-600 flex items-center justify-center text-2xl mb-2"><i class="fa-solid fa-child-reaching"></i></div>
            <h3 class="font-heading font-bold text-gray-800 text-sm">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
            <i class="fa-solid fa-lock text-xs text-gray-400 mt-2"></i>
            <div class="reveal-content w-full text-xs text-gray-500 bg-gray-50 p-2 rounded mt-2">‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏π‡πÅ‡∏•‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
        </div>

        <!-- 6. ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -> Activity -->
        <a href="Activity Manager.html" class="bento-card col-span-1 p-6 flex flex-col justify-center items-center text-center group">
            <div class="main-icon w-14 h-14 rounded-2xl bg-yellow-50 text-yellow-600 flex items-center justify-center text-2xl mb-2"><i class="fa-solid fa-campground"></i></div>
            <h3 class="font-bold text-gray-800">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
            <div class="reveal-content w-full text-xs text-gray-500 bg-gray-50 p-2 rounded">‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ & ‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°</div>
        </a>

        <!-- 7. ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PA (External Links) -->
        <div class="bento-card col-span-1 p-6 border-l-4 border-green-500 flex flex-col justify-center items-center text-center group cursor-pointer hover:bg-green-50/10">
            <div class="main-icon w-14 h-14 rounded-full bg-green-50 text-green-600 flex items-center justify-center text-2xl mb-2"><i class="fa-solid fa-file-contract"></i></div>
            <h3 class="font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PA</h3>
            <div class="reveal-content w-full space-y-1 mt-2 text-left">
                <a href="https://bk-smart-service.my.canva.site/pa-m" target="_blank" class="block p-1.5 rounded bg-green-100 text-green-800 text-xs hover:bg-green-200 transition font-bold flex justify-between items-center"><span>2568</span> <span class="bg-white px-1 rounded text-[9px] text-green-600">New</span></a>
                <a href="https://sites.google.com/view/masusp320/home" target="_blank" class="block p-1.5 rounded bg-gray-50 text-gray-600 text-xs hover:bg-gray-100 transition flex justify-between">2567 <i class="fa-solid fa-check text-green-500"></i></a>
                <a href="https://sites.google.com/view/aekarwut21/e-portfolio-aekarwut-suriyacharean" target="_blank" class="block p-1.5 rounded bg-gray-50 text-gray-600 text-xs hover:bg-gray-100 transition flex justify-between">2566 <i class="fa-solid fa-check text-green-500"></i></a>
            </div>
        </div>

        <!-- 8. ‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏° -> Innovation -->
        <a href="Innovation_Hub.html" class="bento-card bg-gradient-to-r from-gray-900 to-gray-800 text-white col-span-1 md:col-span-2 p-6 flex flex-col justify-center items-center text-center group relative overflow-hidden cursor-pointer">
            <div class="relative z-10 group-hover:-translate-y-1 transition duration-300">
                <i class="fa-solid fa-rocket text-4xl text-purple-400 mb-3 animate-pulse-slow"></i>
                <h3 class="text-xl font-bold">‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ</h3>
                <p class="text-gray-400 text-xs mt-1">Digital Transformation & AI Tools</p>
            </div>
            <div class="absolute right-0 top-0 h-full w-1/2 bg-gradient-to-l from-purple-500/20 to-transparent"></div>
        </a>
        
        <!-- 9. ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ -> Calendar -->
        <a href="Calendar.html" class="bento-card col-span-1 md:col-span-2 p-6 flex flex-col justify-center items-center text-center group bg-teal-50 border-teal-100 cursor-pointer">
            <div class="main-icon w-14 h-14 rounded-2xl bg-white text-teal-600 flex items-center justify-center text-2xl mb-2 shadow-sm"><i class="fa-regular fa-calendar-days"></i></div>
            <h3 class="font-bold text-gray-800">‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</h3>
            <div class="reveal-content w-full text-xs text-teal-600 bg-white p-2 rounded">
                <p>‚Ä¢ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô</p>
                <p>‚Ä¢ ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            </div>
        </a>

        <!-- 10. ‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô -> Resource -->
        <a href="Resource Library.html" class="bento-card col-span-1 p-6 flex flex-col justify-center items-center text-center group cursor-pointer">
            <div class="main-icon w-14 h-14 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-2xl mb-2 shadow-sm"><i class="fa-solid fa-photo-film"></i></div>
            <h3 class="font-bold text-gray-800">‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</h3>
            <div class="reveal-content w-full text-xs text-indigo-500 bg-white p-2 rounded">‡πÉ‡∏ö‡∏á‡∏≤‡∏ô, ‡∏™‡πÑ‡∏•‡∏î‡πå & ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</div>
        </a>

        <!-- 11. AI Assistant Card (New) -->
        <div class="bento-card col-span-1 md:col-span-2 p-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white flex flex-col justify-center items-center text-center group cursor-pointer relative overflow-hidden" onclick="toggleAIModal()">
            <div class="relative z-10 group-hover:scale-110 transition duration-300">
                <div class="w-14 h-14 rounded-full bg-white/20 flex items-center justify-center mb-2 mx-auto backdrop-blur-sm shadow-inner">
                    <i class="fa-solid fa-wand-magic-sparkles text-2xl text-yellow-300"></i>
                </div>
                <h3 class="font-heading text-lg font-bold">AI Assistant</h3>
                <p class="text-blue-100 text-xs mt-1">‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß (‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö, ‡∏£‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô)</p>
            </div>
            <!-- Animated BG circles -->
            <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-xl animate-pulse-slow"></div>
            <div class="absolute bottom-0 left-0 w-24 h-24 bg-purple-500/30 rounded-full -ml-8 -mb-8 blur-xl"></div>
        </div>

    </div>

    <!-- Passcode Modal -->
    <div id="passcode-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center bg-black/60">
        <div class="bg-white rounded-2xl p-6 w-80 text-center shadow-2xl transform scale-100 transition-transform duration-300">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4 text-red-500 text-2xl">
                <i class="fa-solid fa-lock"></i>
            </div>
            <h3 class="font-bold text-lg mb-2 text-gray-800">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
            <p class="text-xs text-gray-500 mb-4">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
            <input type="password" id="passcode-input" class="w-full text-center border rounded-lg p-2 mb-4 text-lg tracking-widest focus:ring-2 focus:ring-primary outline-none" placeholder="****">
            <div class="flex gap-2">
                <button onclick="closePasscodeModal()" class="flex-1 py-2 bg-gray-200 rounded-lg text-sm text-gray-700 font-bold hover:bg-gray-300">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button onclick="verifyPasscode()" class="flex-1 py-2 bg-primary text-white rounded-lg text-sm font-bold hover:bg-blue-600">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
            </div>
        </div>
    </div>

    <!-- AI Modal -->
    <div id="ai-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl relative overflow-hidden flex flex-col max-h-[85vh]">
            <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white flex justify-between items-center">
                <h3 class="font-bold flex items-center gap-2"><i class="fa-solid fa-robot"></i> AI Assistant</h3>
                <button onclick="toggleAIModal()"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="p-6 overflow-y-auto">
                <label class="block text-sm font-bold text-gray-700 mb-2 font-heading">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
                <select id="ai-mode" class="w-full p-3 rounded-xl border border-gray-200 bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none mb-4 font-body text-sm">
                    <optgroup label="‚ú® ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">
                        <option value="general">üí¨ ‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                        <option value="translate">üåê ‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤ (TH ‚Üî EN)</option>
                    </optgroup>
                    <optgroup label="üìö ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô">
                        <option value="lesson">üìù ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</option>
                        <option value="quiz">‚ùì ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</option>
                        <option value="rubric">üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô (Rubric)</option>
                        <option value="simplify">üë∂ ‡∏¢‡πà‡∏≠‡∏¢‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
                    </optgroup>
                    <optgroup label="üí° ‡∏™‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°">
                        <option value="image">üé® ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</option>
                        <option value="idea">üí° ‡∏£‡∏∞‡∏î‡∏°‡∏™‡∏°‡∏≠‡∏á / ‡∏´‡∏≤‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢</option>
                    </optgroup>
                    <optgroup label="üìÇ ‡∏á‡∏≤‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">
                        <option value="document">üìù ‡∏£‡πà‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£/‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢</option>
                        <option value="analysis">üß† ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏±‡∏ç‡∏´‡∏≤</option>
                    </optgroup>
                </select>

                <label class="block text-sm font-bold text-gray-700 mb-2 font-heading">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î / ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</label>
                <textarea id="ai-prompt" rows="3" class="w-full p-3 border rounded-xl mb-4 focus:ring-2 focus:ring-blue-500 outline-none text-sm font-body" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£..."></textarea>
                
                <button onclick="callGemini()" id="btn-gen" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold text-sm shadow hover:bg-blue-700 transition flex justify-center items-center gap-2">
                    <i class="fa-solid fa-bolt text-yellow-400"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
                </button>
                
                <div id="ai-result" class="mt-6 text-sm text-gray-700 bg-gray-50 p-4 rounded-xl hidden border border-gray-100 prose prose-sm max-w-none"></div>
                <div id="ai-image-result" class="mt-6 hidden flex justify-center flex-col items-center"></div>
            </div>
        </div>
    </div>

    <!-- Bottom Nav -->
    <nav class="fixed bottom-0 left-0 w-full bg-white/95 backdrop-blur-xl border-t border-gray-200 px-4 py-2 md:hidden z-50 rounded-t-2xl shadow-[0_-5px_20px_rgba(0,0,0,0.05)]">
        <div class="relative flex justify-between items-center max-w-sm mx-auto">
            <div id="nav-pill" class="absolute top-1/2 -translate-y-1/2 h-10 w-12 bg-blue-50 rounded-xl transition-all duration-300 ease-out -z-10"></div>
            <a href="Main_Dashboard.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400 active-nav" data-index="0"><i class="fa-solid fa-house text-xl mb-1 nav-icon"></i><span class="text-[9px] font-bold">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span></a>
            <a href="LessonPlan_Manager.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="1"><i class="fa-solid fa-book-open text-xl mb-1 nav-icon"></i><span class="text-[9px] font-bold">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£</span></a>
            <a href="Classroom Manager.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="2"><i class="fa-solid fa-users text-xl mb-1 nav-icon"></i><span class="text-[9px] font-bold">‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span></a>
            <a href="Project Management.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="3"><i class="fa-solid fa-folder-open text-xl mb-1 nav-icon"></i><span class="text-[9px] font-bold">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</span></a>
            <a href="TeacherPortfolio_BentoGrid.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="4"><i class="fa-solid fa-user text-xl mb-1 nav-icon"></i><span class="text-[9px] font-bold">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span></a>
        </div>
    </nav>

    <script>
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric' });
        function toggleAIModal() { document.getElementById('ai-modal').classList.toggle('hidden'); }
        
        // Nav Logic
        const navItems = document.querySelectorAll('.nav-item');
        const pill = document.getElementById('nav-pill');
        
        function updateNav() {
            const activeItem = navItems[0]; 
            pill.style.left = activeItem.offsetLeft + 'px';
            pill.style.width = activeItem.offsetWidth + 'px';
        }
        
        window.addEventListener('load', updateNav);
        window.addEventListener('resize', updateNav);

        // Passcode Logic
        let targetUrl = '';
        function checkPasscode(url) {
            targetUrl = url;
            document.getElementById('passcode-input').value = '';
            document.getElementById('passcode-modal').classList.remove('hidden');
            setTimeout(() => document.getElementById('passcode-input').focus(), 100);
        }

        function closePasscodeModal() {
            document.getElementById('passcode-modal').classList.add('hidden');
        }

        function verifyPasscode() {
            const input = document.getElementById('passcode-input').value;
            if (input === 'Aekarwut') {
                window.location.href = targetUrl;
            } else {
                alert('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!');
                document.getElementById('passcode-input').value = '';
            }
        }
        document.getElementById('passcode-input').addEventListener("keypress", function(event) {
          if (event.key === "Enter") verifyPasscode();
        });

        // API Key
        const apiKey = "AIzaSyCmcCL6eAc11vaZpsFvYZwqb_zzyVPeK9o";

        async function analyzeStats() {
            const textEl = document.getElementById('ai-quote-text');
            const iconEl = document.getElementById('quote-icon');
            
            textEl.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";
            iconEl.classList.add("fa-spin");
            
            const stats = "‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 145 ‡∏Ñ‡∏ô, PA ‡∏ú‡πà‡∏≤‡∏ô, ‡∏™‡∏∑‡πà‡∏≠ 42 ‡∏ä‡∏¥‡πâ‡∏ô, ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô 4.9/5";
            const prompt = `‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ô‡∏µ‡πâ: "${stats}" ‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏±‡πâ‡∏ô‡πÜ 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)`;
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                });
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£";
                textEl.textContent = text.trim();
            } catch(e) { 
                textEl.textContent = "‡∏£‡∏∞‡∏ö‡∏ö AI ‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß"; 
            } finally {
                iconEl.classList.remove("fa-spin");
            }
        }

        async function callGemini() {
            const promptInput = document.getElementById('ai-prompt').value;
            const mode = document.getElementById('ai-mode').value;
            const resDiv = document.getElementById('ai-result');
            const imgDiv = document.getElementById('ai-image-result');
            const btn = document.getElementById('btn-gen');
            
            if(!promptInput) { alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö"); return; }
            
            btn.innerHTML = '<i class="fa-solid fa-circle-notch animate-spin"></i> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';
            btn.disabled = true;
            resDiv.classList.add('hidden');
            imgDiv.classList.add('hidden');
            resDiv.innerHTML = '';
            imgDiv.innerHTML = '';

            try {
                if (mode === 'image') {
                    const url = `https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`;
                    const payload = {
                        instances: [{ prompt: promptInput }],
                        parameters: { sampleCount: 1 }
                    };
                    
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    const data = await response.json();
                    const base64 = data.predictions?.[0]?.bytesBase64Encoded;
                    
                    if (base64) {
                        imgDiv.classList.remove('hidden');
                        imgDiv.innerHTML = `<img src="data:image/png;base64,${base64}" class="rounded-xl shadow-lg border border-gray-200 w-full max-w-xs" alt="Generated Image"><br><a href="data:image/png;base64,${base64}" download="ai-image.png" class="mt-2 inline-block text-blue-600 text-xs hover:underline">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</a>`;
                    }
                } else {
                    let systemPrompt = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏£‡∏π‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞ ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢";
                    let userPrompt = promptInput;

                    if (mode === 'translate') systemPrompt = "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ô‡∏±‡∏Å‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç ‡πÅ‡∏õ‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡πÉ‡∏´‡πâ‡∏™‡∏•‡∏∞‡∏™‡∏•‡∏ß‡∏¢";
                    else if (mode === 'lesson') systemPrompt = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î";
                    else if (mode === 'quiz') systemPrompt = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π ‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏ô‡∏±‡∏¢ 5 ‡∏Ç‡πâ‡∏≠ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏â‡∏•‡∏¢ ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢";
                    else if (mode === 'rubric') systemPrompt = "‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (Rubric) ‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á Markdown";
                    else if (mode === 'simplify') systemPrompt = "‡∏¢‡πà‡∏≠‡∏¢‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏¢‡∏≤‡∏Å‡πÜ ‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢ ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á";
                    else if (mode === 'document') systemPrompt = "‡∏£‡πà‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£/‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢ ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£";
                    else if (mode === 'analysis') systemPrompt = "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤";

                    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            contents: [{ parts: [{ text: userPrompt }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });
                    
                    const data = await response.json();
                    const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤";
                    resDiv.classList.remove('hidden');
                    resDiv.innerHTML = marked.parse(text);
                }

            } catch (e) { 
                resDiv.classList.remove('hidden');
                resDiv.innerHTML = '<p class="text-red-500 text-center">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</p>'; 
            }
            
            btn.innerHTML = '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤';
            btn.disabled = false;
        }

        // Auto fetch quote/insight on load
        analyzeStats();
    </script>
</body>
</html>
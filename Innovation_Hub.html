<!DOCTYPE html>
<html lang="th">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QJBKDWWT2P"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-QJBKDWWT2P');</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Innovation Hub - Education Data Management</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&family=Sarabun:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { heading: ['Prompt', 'sans-serif'], body: ['Sarabun', 'sans-serif'] },
                    colors: { 'primary': '#0071e3', 'dark-bg': '#0f172a' },
                    animation: { 
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in': 'fadeIn 0.5s ease-out forwards'
                    },
                    keyframes: { 
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } },
                        fadeIn: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #F5F5F7; -webkit-tap-highlight-color: transparent; }
        .glass-nav { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        
        /* Modern Card */
        .tech-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .tech-card:hover { transform: translateY(-10px) scale(1.02); }
        
        /* Categories Scroll */
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }

        /* AI Insight Box */
        .insight-box {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* Nav Icons */
        .nav-icon { transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55); }
        .active-nav .nav-icon { transform: translateY(-5px); color: #0071e3; }
        .active-nav span { color: #0071e3; font-weight: 600; }
        
        /* Markdown Styles */
        .prose h1, .prose h2, .prose h3 { font-weight: bold; margin-top: 1em; margin-bottom: 0.5em; color: #1e3a8a; }
        .prose ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1em; }
        .prose ol { list-style-type: decimal; padding-left: 1.5em; margin-bottom: 1em; }
        .prose p { margin-bottom: 0.8em; line-height: 1.6; }
        .prose strong { color: #0071e3; }
    </style>
</head>
<body class="font-body text-gray-800 pb-28 pt-20">

    <!-- Navbar -->
    <nav class="glass-nav fixed top-0 w-full z-50 px-4 md:px-8 py-3 flex justify-between items-center h-16 transition-all duration-300">
        <div class="flex items-center gap-4 overflow-hidden">
            <a href="Main_Dashboard.html" class="w-10 h-10 rounded-full bg-white border border-gray-200 flex-shrink-0 flex items-center justify-center hover:bg-gray-100 transition shadow-sm group active:scale-95">
                <i class="fa-solid fa-arrow-left text-gray-600 group-hover:text-primary transition"></i>
            </a>
            <div class="truncate">
                <h1 class="font-heading text-lg font-bold text-gray-900 truncate hidden sm:block">‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ <span class="text-primary text-xs font-normal bg-blue-50 px-2 py-0.5 rounded-full ml-2">Innovation Hub</span></h1>
                <h1 class="font-heading text-lg font-bold text-gray-900 truncate sm:hidden">Innovation Hub</h1>
            </div>
        </div>
        <div class="flex items-center gap-2 flex-shrink-0">
            <button onclick="toggleAIModal('research')" class="bg-gradient-to-r from-teal-500 to-emerald-600 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg hover:shadow-teal-500/30 transition flex items-center gap-1 transform hover:scale-105 active:scale-95">
                <i class="fa-solid fa-microscope"></i> <span class="hidden sm:inline">AI ‡∏ß‡∏¥‡∏à‡∏±‡∏¢</span>
            </button>
            <button onclick="toggleAIModal('match')" class="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg hover:shadow-purple-500/30 transition flex items-center gap-1 transform hover:scale-105 active:scale-95">
                <i class="fa-solid fa-robot"></i> <span class="hidden sm:inline">AI Matcher</span>
            </button>
        </div>
    </nav>

    <!-- Hero Section (Showcase) -->
    <div class="max-w-7xl mx-auto px-4 md:px-8 mb-10 animate-fade-in">
        <div class="relative bg-dark-bg text-white pt-10 pb-16 overflow-hidden rounded-3xl shadow-2xl">
            <!-- Animated Background -->
            <div class="absolute top-0 right-0 w-[300px] md:w-[600px] h-[300px] md:h-[600px] bg-purple-600/30 rounded-full blur-[80px] md:blur-[120px] -mr-20 -mt-20 animate-pulse pointer-events-none"></div>
            <div class="absolute bottom-0 left-0 w-[200px] md:w-[400px] h-[200px] md:h-[400px] bg-blue-600/20 rounded-full blur-[60px] md:blur-[100px] -ml-20 -mb-20 animate-float pointer-events-none"></div>

            <div class="max-w-6xl mx-auto px-4 sm:px-6 relative z-10">
                
                <!-- AI Daily Insight -->
                <div id="ai-insight-container" class="mb-8 hidden animate-fade-in">
                    <div class="insight-box rounded-2xl p-4 flex items-start gap-4 max-w-3xl mx-auto transform hover:scale-[1.01] transition duration-300 cursor-default">
                        <div class="w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center text-cyan-300 text-xl flex-shrink-0">
                            <i class="fa-solid fa-lightbulb"></i>
                        </div>
                        <div>
                            <h4 class="text-cyan-300 text-xs font-bold uppercase tracking-wider mb-1">AI Daily Insight</h4>
                            <p id="ai-insight-text" class="text-gray-200 text-sm italic leading-relaxed">
                                ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤...
                            </p>
                        </div>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row items-center gap-10">
                    <div class="w-full md:w-1/2 space-y-6 text-center md:text-left">
                        <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-md px-3 py-1 rounded-full border border-white/20 text-xs font-bold text-cyan-300">
                            <i class="fa-solid fa-bolt"></i> Trending Now
                        </div>
                        <h1 class="font-heading text-3xl md:text-5xl font-bold leading-tight">
                            The Future of <br> <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 glow-text">Digital Learning</span>
                        </h1>
                        <p class="text-gray-300 text-sm md:text-base leading-relaxed max-w-lg mx-auto md:mx-0">
                            ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÇ‡∏•‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ EdTech ‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏¢‡∏∏‡∏Ñ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
                        </p>
                    </div>
                    
                    <!-- 3D Illustration (Hidden on small screens to save space) -->
                    <div class="w-full md:w-1/2 relative h-[300px] md:h-[400px] animate-float hidden md:block">
                        <img src="https://images.unsplash.com/photo-1614726365723-49cfae963956?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" 
                             class="w-full h-full object-cover rounded-3xl shadow-2xl border-4 border-white/10 rotate-3 hover:rotate-0 transition duration-700" 
                             alt="VR Education">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <div class="max-w-7xl mx-auto px-4 md:px-8 relative z-20">

        <!-- 1. Categories Filter -->
        <div class="flex gap-2 sm:gap-3 overflow-x-auto pb-4 hide-scroll mb-6 -mx-4 px-4 sm:mx-0 sm:px-0">
            <button onclick="filterTech('all')" class="cat-btn active bg-white text-gray-800 px-5 py-2 rounded-full shadow-sm border border-gray-200 font-bold hover:scale-105 transition whitespace-nowrap ring-2 ring-primary text-sm flex-shrink-0">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            <button onclick="filterTech('ai')" class="cat-btn bg-white/80 text-gray-600 px-5 py-2 rounded-full shadow-sm border border-gray-200 font-medium hover:bg-white hover:scale-105 transition whitespace-nowrap text-sm flex-shrink-0"><i class="fa-solid fa-robot text-purple-500 mr-2"></i>AI Tools</button>
            <button onclick="filterTech('gamification')" class="cat-btn bg-white/80 text-gray-600 px-5 py-2 rounded-full shadow-sm border border-gray-200 font-medium hover:bg-white hover:scale-105 transition whitespace-nowrap text-sm flex-shrink-0"><i class="fa-solid fa-gamepad text-orange-500 mr-2"></i>Gamification</button>
            <button onclick="filterTech('media')" class="cat-btn bg-white/80 text-gray-600 px-5 py-2 rounded-full shadow-sm border border-gray-200 font-medium hover:bg-white hover:scale-105 transition whitespace-nowrap text-sm flex-shrink-0"><i class="fa-solid fa-photo-film text-green-500 mr-2"></i>Digital Media</button>
        </div>

        <!-- 2. Innovation Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6" id="innovation-grid">
            <!-- Cards will be injected by JS -->
        </div>

    </div>

    <!-- AI Modal (Multi-Mode) -->
    <div id="ai-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-0 sm:p-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" onclick="toggleAIModal()"></div>
        <div class="bg-white w-full h-full sm:h-auto sm:max-h-[90vh] sm:max-w-lg sm:rounded-2xl shadow-2xl relative z-10 overflow-hidden flex flex-col transition-all">
            <div id="modal-header-bg" class="bg-gradient-to-r from-purple-600 to-blue-600 p-4 sm:p-6 text-white flex-shrink-0 flex justify-between items-center safe-top-padding">
                <h3 class="font-heading font-bold text-lg sm:text-xl flex items-center gap-2 truncate"><i id="modal-icon" class="fa-solid fa-wand-magic-sparkles"></i> <span id="modal-title">AI Assistant</span></h3>
                <button onclick="toggleAIModal()" class="hover:bg-white/20 rounded-full p-2 transition"><i class="fa-solid fa-xmark"></i></button>
            </div>
            
            <div class="p-4 sm:p-6 overflow-y-auto flex-1 custom-scrollbar">
                <p class="text-gray-500 text-sm mb-4" id="modal-desc">...</p>

                <!-- 1. Matcher Mode Inputs -->
                <div id="mode-match" class="hidden mode-content">
                    <label class="block text-sm font-bold text-gray-700 mb-2">‡∏ß‡∏¥‡∏ä‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</label>
                    <input type="text" id="ai-subject" class="w-full p-3 border rounded-xl bg-gray-50 focus:ring-2 focus:ring-purple-500 outline-none mb-4 text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï">
                    
                    <label class="block text-sm font-bold text-gray-700 mb-2">‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡πâ‡∏ô</label>
                    <textarea id="ai-goal" rows="2" class="w-full p-3 border rounded-xl bg-gray-50 focus:ring-2 focus:ring-purple-500 outline-none mb-4 text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏≤‡∏¢, ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°"></textarea>
                </div>

                <!-- 2. Guide Mode Inputs -->
                <div id="mode-guide" class="hidden mode-content">
                    <div class="bg-blue-50 p-3 rounded-lg mb-4 flex items-center gap-3">
                        <div class="w-10 h-10 bg-blue-200 rounded-full flex items-center justify-center text-blue-700 font-bold flex-shrink-0"><i class="fa-solid fa-toolbox"></i></div>
                        <div>
                            <p class="text-xs text-blue-600 uppercase font-bold">Tool</p>
                            <p class="font-bold text-gray-800 truncate" id="selected-tool-name">...</p>
                        </div>
                    </div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">‡∏à‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡∏≠‡∏ô‡πÉ‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡πÑ‡∏´‡∏ô?</label>
                    <input type="text" id="ai-context" class="w-full p-3 border rounded-xl bg-gray-50 focus:ring-2 focus:ring-purple-500 outline-none mb-4 text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡∏°.1 ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå">
                </div>

                <!-- 3. Research Mode Inputs -->
                <div id="mode-research" class="hidden mode-content">
                    <div class="flex gap-2 mb-4">
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="research-type" value="car" class="peer hidden" checked>
                            <div class="text-center p-3 rounded-xl border border-gray-200 bg-gray-50 peer-checked:bg-teal-50 peer-checked:border-teal-500 peer-checked:text-teal-700 transition h-full flex flex-col justify-center items-center active:scale-95">
                                <i class="fa-solid fa-chalkboard-user mb-1 text-lg"></i>
                                <div class="text-xs font-bold">‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÉ‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô<br>(CAR)</div>
                            </div>
                        </label>
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="research-type" value="full" class="peer hidden">
                            <div class="text-center p-3 rounded-xl border border-gray-200 bg-gray-50 peer-checked:bg-blue-50 peer-checked:border-blue-500 peer-checked:text-blue-700 transition h-full flex flex-col justify-center items-center active:scale-95">
                                <i class="fa-solid fa-book-journal-whills mb-1 text-lg"></i>
                                <div class="text-xs font-bold">‡∏ß‡∏¥‡∏à‡∏±‡∏¢ 5 ‡∏ö‡∏ó<br>(Full Thesis)</div>
                            </div>
                        </label>
                    </div>

                    <label class="block text-sm font-bold text-gray-700 mb-2">
                        ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö
                        <span class="text-xs text-teal-600 font-normal ml-2 cursor-pointer hover:underline" onclick="suggestTopic()">‚ú® ‡πÉ‡∏´‡πâ AI ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</span>
                    </label>
                    <textarea id="ai-research-topic" rows="3" class="w-full p-3 border rounded-xl bg-gray-50 focus:ring-2 focus:ring-teal-500 outline-none mb-4 text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≤‡∏î‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå..."></textarea>
                </div>

                <button onclick="runAI()" id="btn-ai" class="w-full py-3 bg-gray-900 text-white rounded-xl font-bold shadow-lg hover:bg-black transition flex items-center justify-center gap-2 active:scale-95 text-sm">
                    <i class="fa-solid fa-bolt text-yellow-400"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•
                </button>

                <div id="ai-result" class="mt-6 hidden bg-gray-50 p-4 rounded-xl border border-gray-200 prose prose-sm max-w-none text-gray-700 max-h-60 overflow-y-auto custom-scrollbar"></div>
            </div>
        </div>
    </div>

    <!-- Bottom Nav -->
    <nav class="fixed bottom-0 left-0 w-full bg-white/95 backdrop-blur-xl border-t border-gray-200 px-4 py-2 md:hidden z-50 rounded-t-2xl shadow-[0_-5px_10px_rgba(0,0,0,0.02)] pb-safe">
        <div class="relative flex justify-between items-center max-w-sm mx-auto">
            <div id="nav-pill" class="absolute top-1/2 -translate-y-1/2 h-10 w-12 bg-blue-50 rounded-xl transition-all duration-300 ease-out -z-10"></div>
            <a href="Main_Dashboard.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="0"><i class="fa-solid fa-house text-xl mb-1 nav-icon"></i><span class="text-[9px] font-medium">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span></a>
            <a href="LessonPlan_Manager.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="1"><i class="fa-solid fa-book-open text-xl mb-1 nav-icon"></i><span class="text-[9px] font-medium">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£</span></a>
            <a href="Classroom_Manager.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="2"><i class="fa-solid fa-users text-xl mb-1 nav-icon"></i><span class="text-[9px] font-medium">‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span></a>
            <a href="Project_Manager.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400" data-index="3"><i class="fa-solid fa-folder-open text-xl mb-1 nav-icon"></i><span class="text-[9px] font-medium">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</span></a>
            <a href="TeacherPortfolio_BentoGrid.html" class="nav-item flex flex-col items-center justify-center w-12 text-gray-400 active-nav" data-index="4"><i class="fa-solid fa-photo-film text-xl mb-1 nav-icon"></i><span class="text-[9px] font-medium">‡∏™‡∏∑‡πà‡∏≠</span></a>
        </div>
    </nav>

    <script>
        const innovations = [
            { id: 1, type: 'ai', title: 'ChatGPT', desc: '‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏≠‡∏ô', img: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=600', pop: 'Hot üî•' },
            { id: 2, type: 'gamification', title: 'Kahoot!', desc: '‡πÄ‡∏Å‡∏°‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏µ‡∏™‡∏±‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', img: 'https://images.unsplash.com/photo-1606326608606-aa0b62935f2b?w=600', pop: 'Popular' },
            { id: 3, type: 'media', title: 'Canva', desc: '‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏™‡∏ß‡∏¢‡πÜ ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ', img: 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=600', pop: 'Must Have' },
            { id: 4, type: 'iot', title: 'Micro:bit', desc: '‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ Coding ‡∏ú‡πà‡∏≤‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏à‡∏¥‡πã‡∏ß', img: 'https://images.unsplash.com/photo-1555679427-1f6dfcce943b?w=600', pop: 'Trending' },
            { id: 5, type: 'ai', title: 'Perplexity', desc: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥', img: 'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=600', pop: 'New' },
            { id: 6, type: 'media', title: 'AR/VR', desc: '‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏•‡∏Å‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ', img: 'https://images.unsplash.com/photo-1626379953822-baec19c3accd?w=600', pop: 'Future' }
        ];

        let currentMode = 'match';
        // API Key Updated
        const apiKey = "AIzaSyCmcCL6eAc11vaZpsFvYZwqb_zzyVPeK9o";

        function init() {
            renderGrid('all');
            fetchDailyInsight();
            initNav();
        }

        function renderGrid(filter) {
            const grid = document.getElementById('innovation-grid');
            grid.innerHTML = '';
            const filtered = innovations.filter(item => filter === 'all' || item.type === filter);
            
            filtered.forEach(item => {
                let badgeColor = 'bg-gray-100 text-gray-600';
                if(item.pop.includes('Hot')) badgeColor = 'bg-red-500 text-white';
                if(item.pop.includes('New')) badgeColor = 'bg-green-500 text-white';

                grid.innerHTML += `
                    <div class="tech-card bg-white rounded-2xl overflow-hidden shadow-lg border border-gray-100 flex flex-col h-full cursor-pointer group">
                        <div class="relative h-40 sm:h-48 overflow-hidden">
                            <img src="${item.img}" class="w-full h-full object-cover transition duration-700 group-hover:scale-110">
                            <div class="absolute top-3 right-3 ${badgeColor} text-[10px] font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wider">${item.pop}</div>
                        </div>
                        <div class="p-4 sm:p-6 flex-1 flex flex-col">
                            <h3 class="font-heading text-lg sm:text-xl font-bold text-gray-800 mb-2 group-hover:text-primary transition">${item.title}</h3>
                            <p class="text-gray-500 text-sm leading-relaxed mb-4 flex-1 line-clamp-3">${item.desc}</p>
                            <div class="pt-4 mt-auto border-t border-gray-100 flex gap-2">
                                <button onclick="openGuideModal('${item.title}')" class="flex-1 py-2 bg-gradient-to-r from-blue-50 to-purple-50 text-primary text-xs font-bold rounded-lg hover:from-blue-100 hover:to-purple-100 transition flex items-center justify-center gap-2 border border-blue-100 active:scale-95">
                                    <i class="fa-solid fa-wand-magic-sparkles text-purple-500"></i> ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function filterTech(type) {
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-primary', 'bg-white', 'text-gray-800');
                btn.classList.add('bg-white/80', 'text-gray-600');
            });
            event.currentTarget.classList.remove('bg-white/80', 'text-gray-600');
            event.currentTarget.classList.add('bg-white', 'text-gray-800', 'ring-2', 'ring-primary');
            renderGrid(type);
        }

        function toggleAIModal(mode = null) {
            const modal = document.getElementById('ai-modal');
            const matchDiv = document.getElementById('mode-match');
            const guideDiv = document.getElementById('mode-guide');
            const researchDiv = document.getElementById('mode-research');
            
            const title = document.getElementById('modal-title');
            const desc = document.getElementById('modal-desc');
            const result = document.getElementById('ai-result');
            const header = document.getElementById('modal-header-bg');
            const icon = document.getElementById('modal-icon');

            if (mode) currentMode = mode;
            result.classList.add('hidden'); result.innerHTML = '';
            
            matchDiv.classList.add('hidden'); 
            guideDiv.classList.add('hidden');
            researchDiv.classList.add('hidden');

            if (currentMode === 'match') {
                title.textContent = 'AI Tech Matcher';
                desc.textContent = '‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà';
                header.className = 'bg-gradient-to-r from-purple-600 to-blue-600 p-4 sm:p-6 text-white flex-shrink-0 flex justify-between items-center safe-top-padding';
                icon.className = 'fa-solid fa-robot';
                matchDiv.classList.remove('hidden');
            } else if (currentMode === 'guide') {
                title.textContent = 'AI Guide';
                desc.textContent = '‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏ô';
                header.className = 'bg-gradient-to-r from-blue-500 to-cyan-500 p-4 sm:p-6 text-white flex-shrink-0 flex justify-between items-center safe-top-padding';
                icon.className = 'fa-solid fa-chalkboard-user';
                guideDiv.classList.remove('hidden');
            } else if (currentMode === 'research') {
                title.textContent = 'AI Research';
                desc.textContent = '‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢';
                header.className = 'bg-gradient-to-r from-teal-500 to-emerald-600 p-4 sm:p-6 text-white flex-shrink-0 flex justify-between items-center safe-top-padding';
                icon.className = 'fa-solid fa-microscope';
                researchDiv.classList.remove('hidden');
            }
            modal.classList.toggle('hidden');
        }

        function openGuideModal(toolName) {
            document.getElementById('selected-tool-name').textContent = toolName;
            toggleAIModal('guide');
        }

        function suggestTopic() {
            const topicInput = document.getElementById('ai-research-topic');
            topicInput.value = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à...";
            setTimeout(() => {
                topicInput.value = "‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (Computational Thinking) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏Å‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1";
            }, 1000);
        }

        async function runAI() {
            const btn = document.getElementById('btn-ai');
            const resDiv = document.getElementById('ai-result');
            let prompt = "";

            if (currentMode === 'match') {
                const subject = document.getElementById('ai-subject').value;
                const goal = document.getElementById('ai-goal').value;
                if(!subject) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏¥‡∏ä‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö'); return; }
                prompt = `‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ EdTech 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏≠‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤ ${subject} ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠ ${goal} ‡∏ï‡∏≠‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÜ`;
            } else if (currentMode === 'guide') {
                const tool = document.getElementById('selected-tool-name').textContent;
                const context = document.getElementById('ai-context').value;
                if(!context) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö'); return; }
                prompt = `‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ ${tool} ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${context} 1 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°`;
            } else if (currentMode === 'research') {
                const topic = document.getElementById('ai-research-topic').value;
                const type = document.querySelector('input[name="research-type"]:checked').value;
                if(!topic) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ß‡∏¥‡∏à‡∏±‡∏¢'); return; }
                if (type === 'car') prompt = `‡∏£‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏£‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÉ‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (CAR) ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠: "${topic}"`;
                else prompt = `‡∏£‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏£‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏à‡∏±‡∏¢ 5 ‡∏ö‡∏ó‡∏â‡∏ö‡∏±‡∏ö‡∏¢‡πà‡∏≠ ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠: "${topic}"`;
            }

            btn.innerHTML = '<i class="fa-solid fa-circle-notch animate-spin"></i> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';
            btn.disabled = true;
            resDiv.classList.remove('hidden');
            resDiv.innerHTML = 'AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô...';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                });
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Error";
                resDiv.innerHTML = marked.parse(text);
            } catch (e) { resDiv.textContent = "Error"; }
            btn.innerHTML = '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•';
            btn.disabled = false;
        }

        async function fetchDailyInsight() {
            try {
                const container = document.getElementById('ai-insight-container');
                container.classList.remove('hidden');
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: "‡∏Ç‡∏≠‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏±‡πâ‡∏ô‡πÜ 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Future EdTech Trend ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢" }] }] })
                });
                const data = await response.json();
                document.getElementById('ai-insight-text').textContent = data.candidates?.[0]?.content?.parts?.[0]?.text.trim();
            } catch (e) { console.log("Insight Error"); }
        }

        function initNav() {
            const pill = document.getElementById('nav-pill');
            // Assuming Innovation is mapped to '‡∏™‡∏∑‡πà‡∏≠' (Resource) in bottom nav which is index 3
            const targetLink = document.querySelector('.nav-item[data-index="3"]');
            if(targetLink) {
                 targetLink.classList.add('active-nav');
                 pill.style.left = targetLink.offsetLeft + 'px';
                 pill.style.width = targetLink.offsetWidth + 'px';
            }
        }
        
        window.addEventListener('load', initNav); window.addEventListener('resize', initNav);
        init();
    </script>
</body>
</html>